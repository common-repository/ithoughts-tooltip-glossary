{"version":3,"sources":["../src/jquery-serialize-object-v5.js"],"names":["ithoughts","$","fn","extend","serializeObject","json","map","serializeArray","nestingIndex","formvalue","name","indexOf","nestingsCount","jsonLocal","nestings","i","fvn","value","replace","split","length","push","undefined","serializeInputsObject","forceValue","each","index","element","valueThis","valuePtr","iThoughts","v5"],"mappings":"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","file":"jquery-serialize-object-v5.js","sourcesContent":["/**\n * @file jQuery extension to help serializing forms\n *\n * @author Gerkin\n * @copyright 2016\n * @license https://www.gnu.org/licenses/gpl-3.0.html GPLv3\n * @package iThoughts-toolbox\n *\n */\n\n'use strict';\n\n(( ithoughts ) => {\n\n\t/*jslint plusplus: true*/\n\t/*globals iThoughts*/\n\n\tvar $ = ithoughts.$;\n\n\t/**\n\t * Send a form through ajax\n\t * @method\texternal:\"jQuery\".fn.serializeObject\n\t * @returns {object}\tAssociative object representing the form\n\t */\n\t$.fn.extend({\n\t\tserializeObject() {\n\t\t\tvar json = {};\n\t\t\t$.map( $( this ).serializeArray(), formvalue => {\n\t\t\t\tvar nestingIndex = formvalue.name.indexOf( '[' ),\n\t\t\t\t\tnestingsCount,\n\t\t\t\t\tjsonLocal,\n\t\t\t\t\tnestings,\n\t\t\t\t\ti,\n\t\t\t\t\tfvn = formvalue.value || '';\n\t\t\t\tif ( nestingIndex > -1 ) {\n\t\t\t\t\tjsonLocal = json;\n\t\t\t\t\tnestings = formvalue.name.replace( /\\]/gi, '' ).split( '[' );\n\t\t\t\t\tfor ( i = 0, nestingsCount = nestings.length; i < nestingsCount; i++ ) {\n\t\t\t\t\t\tif ( i === nestingsCount - 1 ) {\n\t\t\t\t\t\t\tif ( nestings[i] !== '' ) {\n\t\t\t\t\t\t\t\tif ( jsonLocal[nestings[i]]) {\n\t\t\t\t\t\t\t\t\tif ( 'string' === typeof jsonLocal[nestings[i]]) {\n\t\t\t\t\t\t\t\t\t\tjsonLocal[nestings[i]] = [ jsonLocal[nestings[i]] ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tjsonLocal[nestings[i]].push( fvn );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tjsonLocal[nestings[i]] = fvn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjsonLocal.push( fvn );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tjsonLocal = jsonLocal[nestings[i]] = jsonLocal[nestings[i]] || ( '' === nestings[i + 1] ? [] : {});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if ( json[formvalue.name] !== undefined ) {\n\t\t\t\t\tif ( !json[formvalue.name].push ) {\n\t\t\t\t\t\tjson[formvalue.name] = [ json[formvalue.name] ];\n\t\t\t\t\t}\n\t\t\t\t\tjson[formvalue.name].push( fvn );\n\t\t\t\t} else {\n\t\t\t\t\tjson[formvalue.name] = fvn;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn json;\n\t\t},\n\t\tserializeInputsObject( forceValue ) {\n\t\t\tvar value = {};\n\t\t\tthis.each(( index, element ) => {\n\t\t\t\tvar valueThis = {},\n\t\t\t\t\tvaluePtr = valueThis,\n\t\t\t\t\tname = element.name,\n\t\t\t\t\tnestings = name.replace( /\\]/gi, '' ).split( '[' ),\n\t\t\t\t\ti = 0,\n\t\t\t\t\tnestingsCount = nestings.length;\n\t\t\t\tfor ( i; i < nestingsCount; i++ ) {\n\t\t\t\t\tif ( i === nestingsCount - 1 ) {\n\t\t\t\t\t\tvaluePtr[nestings[i]] = typeof forceValue !== 'undefined' ? forceValue : this.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvaluePtr = ( valuePtr[nestings[i]] = {});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$.extend( value, valueThis );\n\t\t\t});\n\t\t\treturn value;\n\t\t},\n\t});\n})( iThoughts.v5 );\n"]}